\setbeamercolor{section in head/foot}{parent=palette tertiary}
\setbeamercolor{subsection in head/foot}{parent=palette secondary}
\setbeamercolor{author in head/foot}{parent=subsection in head/foot}
\setbeamercolor{title in head/foot}{parent=section in head/foot}

\newif\ifbeamer@theme@subsection
\beamer@theme@subsectiontrue

\DeclareOptionBeamer{subsection}[true]{\csname beamer@theme@subsection#1\endcsname}
\ProcessOptionsBeamer

\mode<presentation>

\setbeamertemplate{headline}{%
  \begin{beamercolorbox}[colsep=1.5pt]{upper separation line head}
  \end{beamercolorbox}
  \begin{beamercolorbox}{section in head/foot}
    \vskip2pt\insertnavigation{\paperwidth}\vskip2pt
  \end{beamercolorbox}%
  \ifbeamer@theme@subsection%
    \begin{beamercolorbox}[colsep=1.5pt]{middle separation line head}
    \end{beamercolorbox}
    \begin{beamercolorbox}[ht=2.5ex,dp=1.125ex,%
      leftskip=.3cm,rightskip=.3cm plus1fil]{subsection in head/foot}
      \usebeamerfont{subsection in head/foot}\insertsubsectionhead
    \end{beamercolorbox}%
  \fi%
  \begin{beamercolorbox}[colsep=1.5pt]{lower separation line head}
  \end{beamercolorbox}
}

%%% Frame title %%%
\setbeamertemplate{frametitle}{
\vskip1cm%
  \begin{beamercolorbox}[wd=\paperwidth,ht=1.2cm]{frametitle} 
  \begin{tikzpicture}
    \useasboundingbox[fill = white](0,0) rectangle(\the\paperwidth,1.2);
    \node[anchor=west, font = \large] at (0.75,1.875){\insertframetitle};
    \ifx\insertframesubtitle\@empty%
    \else%
      {\node[anchor= west, black, font=\small] at (1,1.375){\insertframesubtitle};}%
    \fi
  \end{tikzpicture}
  \end{beamercolorbox}
  \vspace{-1.25cm}
  \begin{textblock*}{9cm}(11cm, 7.65cm)
    \begin{beamercolorbox}{date}
      \usebeamerfont{date}\normalsize\insertframenumber%
    \end{beamercolorbox}
  \end{textblock*}
}

%%% Gets rid of fading on blocks %%%
\makeatletter
\pgfdeclareverticalshading[lower.bg,upper.bg]{bmb@transition}{200cm}{%
  color(0pt)=(lower.bg); color(4pt)=(lower.bg); color(4pt)=(upper.bg)}
\makeatother


\setbeamertemplate{itemize items}{$\bullet$}
\setbeamertemplate{blocks}[rounded][shadow = false]
\setbeamertemplate{caption}[numbered]

\mode<all>